{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"]}},{"name":"socket.io-client","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":46,"index":125}}],"key":"LVgCyxgUdze/lYG0kA6DdCAztfM=","exportNames":["*"]}},{"name":"./AuthContext","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":126},"end":{"line":3,"column":40,"index":166}}],"key":"YmpzODa+dVz64UAAYTI+RwJeEt0=","exportNames":["*"]}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.useSocket = exports.SocketProvider = void 0;\n  var _react = _interopRequireWildcard(require(_dependencyMap[0], \"react\"));\n  var _socket = require(_dependencyMap[1], \"socket.io-client\");\n  var _AuthContext = require(_dependencyMap[2], \"./AuthContext\");\n  var _jsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  var _jsxFileName = \"/app/frontend/contexts/SocketContext.tsx\";\n  function _interopRequireWildcard(e, t) { if (\"function\" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function (e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (const t in e) \"default\" !== t && {}.hasOwnProperty.call(e, t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, t)) && (i.get || i.set) ? o(f, t, i) : f[t] = e[t]); return f; })(e, t); }\n  const SocketContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const useSocket = () => {\n    const context = (0, _react.useContext)(SocketContext);\n    if (!context) {\n      throw new Error('useSocket must be used within a SocketProvider');\n    }\n    return context;\n  };\n  exports.useSocket = useSocket;\n  const SocketProvider = ({\n    children\n  }) => {\n    const [socket, setSocket] = (0, _react.useState)(null);\n    const [isConnected, setIsConnected] = (0, _react.useState)(false);\n    const {\n      user,\n      token\n    } = (0, _AuthContext.useAuth)();\n    (0, _react.useEffect)(() => {\n      if (user && token) {\n        console.log('üîå Conectando ao Socket.io...');\n        try {\n          const newSocket = (0, _socket.io)(process.env.EXPO_PUBLIC_BACKEND_URL, {\n            auth: {\n              user_id: user.id,\n              user_type: user.user_type,\n              token: token\n            },\n            transports: ['websocket', 'polling']\n          });\n          newSocket.on('connect', () => {\n            console.log('‚úÖ Socket.io conectado:', newSocket.id);\n            setIsConnected(true);\n          });\n          newSocket.on('disconnect', () => {\n            console.log('‚ùå Socket.io desconectado');\n            setIsConnected(false);\n          });\n          newSocket.on('connect_error', error => {\n            console.error('‚ùå Erro de conex√£o Socket.io:', error);\n            setIsConnected(false);\n          });\n          newSocket.on('new_request', data => {\n            console.log('üîî Nova solicita√ß√£o recebida:', data);\n          });\n          newSocket.on('request_accepted', data => {\n            console.log('‚úÖ Solicita√ß√£o aceita:', data);\n          });\n          newSocket.on('request_completed', data => {\n            console.log('üéâ Servi√ßo conclu√≠do:', data);\n          });\n          newSocket.on('location_updated', data => {\n            console.log('üìç Localiza√ß√£o atualizada:', data);\n          });\n          setSocket(newSocket);\n          return () => {\n            console.log('üîå Desconectando Socket.io...');\n            newSocket.close();\n            setSocket(null);\n            setIsConnected(false);\n          };\n        } catch (error) {\n          console.error('‚ùå Erro ao criar Socket.io:', error);\n        }\n      }\n    }, [user, token]);\n    const value = {\n      socket,\n      isConnected\n    };\n    return /*#__PURE__*/(0, _jsxDevRuntime.jsxDEV)(SocketContext.Provider, {\n      value: value,\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 10\n    }, this);\n  };\n  exports.SocketProvider = SocketProvider;\n});","lineCount":92,"map":[[6,2,1,0],[6,6,1,0,"_react"],[6,12,1,0],[6,15,1,0,"_interopRequireWildcard"],[6,38,1,0],[6,39,1,0,"require"],[6,46,1,0],[6,47,1,0,"_dependencyMap"],[6,61,1,0],[7,2,2,0],[7,6,2,0,"_socket"],[7,13,2,0],[7,16,2,0,"require"],[7,23,2,0],[7,24,2,0,"_dependencyMap"],[7,38,2,0],[8,2,3,0],[8,6,3,0,"_AuthContext"],[8,18,3,0],[8,21,3,0,"require"],[8,28,3,0],[8,29,3,0,"_dependencyMap"],[8,43,3,0],[9,2,3,40],[9,6,3,40,"_jsxDevRuntime"],[9,20,3,40],[9,23,3,40,"require"],[9,30,3,40],[9,31,3,40,"_dependencyMap"],[9,45,3,40],[10,2,3,40],[10,6,3,40,"_jsxFileName"],[10,18,3,40],[11,2,3,40],[11,11,3,40,"_interopRequireWildcard"],[11,35,3,40,"e"],[11,36,3,40],[11,38,3,40,"t"],[11,39,3,40],[11,68,3,40,"WeakMap"],[11,75,3,40],[11,81,3,40,"r"],[11,82,3,40],[11,89,3,40,"WeakMap"],[11,96,3,40],[11,100,3,40,"n"],[11,101,3,40],[11,108,3,40,"WeakMap"],[11,115,3,40],[11,127,3,40,"_interopRequireWildcard"],[11,150,3,40],[11,162,3,40,"_interopRequireWildcard"],[11,163,3,40,"e"],[11,164,3,40],[11,166,3,40,"t"],[11,167,3,40],[11,176,3,40,"t"],[11,177,3,40],[11,181,3,40,"e"],[11,182,3,40],[11,186,3,40,"e"],[11,187,3,40],[11,188,3,40,"__esModule"],[11,198,3,40],[11,207,3,40,"e"],[11,208,3,40],[11,214,3,40,"o"],[11,215,3,40],[11,217,3,40,"i"],[11,218,3,40],[11,220,3,40,"f"],[11,221,3,40],[11,226,3,40,"__proto__"],[11,235,3,40],[11,243,3,40,"default"],[11,250,3,40],[11,252,3,40,"e"],[11,253,3,40],[11,270,3,40,"e"],[11,271,3,40],[11,294,3,40,"e"],[11,295,3,40],[11,320,3,40,"e"],[11,321,3,40],[11,330,3,40,"f"],[11,331,3,40],[11,337,3,40,"o"],[11,338,3,40],[11,341,3,40,"t"],[11,342,3,40],[11,345,3,40,"n"],[11,346,3,40],[11,349,3,40,"r"],[11,350,3,40],[11,358,3,40,"o"],[11,359,3,40],[11,360,3,40,"has"],[11,363,3,40],[11,364,3,40,"e"],[11,365,3,40],[11,375,3,40,"o"],[11,376,3,40],[11,377,3,40,"get"],[11,380,3,40],[11,381,3,40,"e"],[11,382,3,40],[11,385,3,40,"o"],[11,386,3,40],[11,387,3,40,"set"],[11,390,3,40],[11,391,3,40,"e"],[11,392,3,40],[11,394,3,40,"f"],[11,395,3,40],[11,411,3,40,"t"],[11,412,3,40],[11,416,3,40,"e"],[11,417,3,40],[11,433,3,40,"t"],[11,434,3,40],[11,441,3,40,"hasOwnProperty"],[11,455,3,40],[11,456,3,40,"call"],[11,460,3,40],[11,461,3,40,"e"],[11,462,3,40],[11,464,3,40,"t"],[11,465,3,40],[11,472,3,40,"i"],[11,473,3,40],[11,477,3,40,"o"],[11,478,3,40],[11,481,3,40,"Object"],[11,487,3,40],[11,488,3,40,"defineProperty"],[11,502,3,40],[11,507,3,40,"Object"],[11,513,3,40],[11,514,3,40,"getOwnPropertyDescriptor"],[11,538,3,40],[11,539,3,40,"e"],[11,540,3,40],[11,542,3,40,"t"],[11,543,3,40],[11,550,3,40,"i"],[11,551,3,40],[11,552,3,40,"get"],[11,555,3,40],[11,559,3,40,"i"],[11,560,3,40],[11,561,3,40,"set"],[11,564,3,40],[11,568,3,40,"o"],[11,569,3,40],[11,570,3,40,"f"],[11,571,3,40],[11,573,3,40,"t"],[11,574,3,40],[11,576,3,40,"i"],[11,577,3,40],[11,581,3,40,"f"],[11,582,3,40],[11,583,3,40,"t"],[11,584,3,40],[11,588,3,40,"e"],[11,589,3,40],[11,590,3,40,"t"],[11,591,3,40],[11,602,3,40,"f"],[11,603,3,40],[11,608,3,40,"e"],[11,609,3,40],[11,611,3,40,"t"],[11,612,3,40],[12,2,10,0],[12,8,10,6,"SocketContext"],[12,21,10,19],[12,37,10,22],[12,41,10,22,"createContext"],[12,61,10,35],[12,63,10,67,"undefined"],[12,72,10,76],[12,73,10,77],[13,2,12,7],[13,8,12,13,"useSocket"],[13,17,12,22],[13,20,12,25,"useSocket"],[13,21,12,25],[13,26,12,31],[14,4,13,2],[14,10,13,8,"context"],[14,17,13,15],[14,20,13,18],[14,24,13,18,"useContext"],[14,41,13,28],[14,43,13,29,"SocketContext"],[14,56,13,42],[14,57,13,43],[15,4,14,2],[15,8,14,6],[15,9,14,7,"context"],[15,16,14,14],[15,18,14,16],[16,6,15,4],[16,12,15,10],[16,16,15,14,"Error"],[16,21,15,19],[16,22,15,20],[16,70,15,68],[16,71,15,69],[17,4,16,2],[18,4,17,2],[18,11,17,9,"context"],[18,18,17,16],[19,2,18,0],[19,3,18,1],[20,2,18,2,"exports"],[20,9,18,2],[20,10,18,2,"useSocket"],[20,19,18,2],[20,22,18,2,"useSocket"],[20,31,18,2],[21,2,20,7],[21,8,20,13,"SocketProvider"],[21,22,20,68],[21,25,20,71,"SocketProvider"],[21,26,20,72],[22,4,20,74,"children"],[23,2,20,83],[23,3,20,84],[23,8,20,89],[24,4,21,2],[24,10,21,8],[24,11,21,9,"socket"],[24,17,21,15],[24,19,21,17,"setSocket"],[24,28,21,26],[24,29,21,27],[24,32,21,30],[24,36,21,30,"useState"],[24,51,21,38],[24,53,21,54],[24,57,21,58],[24,58,21,59],[25,4,22,2],[25,10,22,8],[25,11,22,9,"isConnected"],[25,22,22,20],[25,24,22,22,"setIsConnected"],[25,38,22,36],[25,39,22,37],[25,42,22,40],[25,46,22,40,"useState"],[25,61,22,48],[25,63,22,49],[25,68,22,54],[25,69,22,55],[26,4,23,2],[26,10,23,8],[27,6,23,10,"user"],[27,10,23,14],[28,6,23,16,"token"],[29,4,23,22],[29,5,23,23],[29,8,23,26],[29,12,23,26,"useAuth"],[29,32,23,33],[29,34,23,34],[29,35,23,35],[30,4,25,2],[30,8,25,2,"useEffect"],[30,24,25,11],[30,26,25,12],[30,32,25,18],[31,6,26,4],[31,10,26,8,"user"],[31,14,26,12],[31,18,26,16,"token"],[31,23,26,21],[31,25,26,23],[32,8,27,6,"console"],[32,15,27,13],[32,16,27,14,"log"],[32,19,27,17],[32,20,27,18],[32,51,27,49],[32,52,27,50],[33,8,29,6],[33,12,29,10],[34,10,30,8],[34,16,30,14,"newSocket"],[34,25,30,23],[34,28,30,26],[34,32,30,26,"io"],[34,42,30,28],[34,44,30,29,"process"],[34,51,30,36],[34,52,30,37,"env"],[34,55,30,40],[34,56,30,41,"EXPO_PUBLIC_BACKEND_URL"],[34,79,30,64],[34,81,30,67],[35,12,31,10,"auth"],[35,16,31,14],[35,18,31,16],[36,14,32,12,"user_id"],[36,21,32,19],[36,23,32,21,"user"],[36,27,32,25],[36,28,32,26,"id"],[36,30,32,28],[37,14,33,12,"user_type"],[37,23,33,21],[37,25,33,23,"user"],[37,29,33,27],[37,30,33,28,"user_type"],[37,39,33,37],[38,14,34,12,"token"],[38,19,34,17],[38,21,34,19,"token"],[39,12,35,10],[39,13,35,11],[40,12,36,10,"transports"],[40,22,36,20],[40,24,36,22],[40,25,36,23],[40,36,36,34],[40,38,36,36],[40,47,36,45],[41,10,37,8],[41,11,37,9],[41,12,37,10],[42,10,39,8,"newSocket"],[42,19,39,17],[42,20,39,18,"on"],[42,22,39,20],[42,23,39,21],[42,32,39,30],[42,34,39,32],[42,40,39,38],[43,12,40,10,"console"],[43,19,40,17],[43,20,40,18,"log"],[43,23,40,21],[43,24,40,22],[43,48,40,46],[43,50,40,48,"newSocket"],[43,59,40,57],[43,60,40,58,"id"],[43,62,40,60],[43,63,40,61],[44,12,41,10,"setIsConnected"],[44,26,41,24],[44,27,41,25],[44,31,41,29],[44,32,41,30],[45,10,42,8],[45,11,42,9],[45,12,42,10],[46,10,44,8,"newSocket"],[46,19,44,17],[46,20,44,18,"on"],[46,22,44,20],[46,23,44,21],[46,35,44,33],[46,37,44,35],[46,43,44,41],[47,12,45,10,"console"],[47,19,45,17],[47,20,45,18,"log"],[47,23,45,21],[47,24,45,22],[47,50,45,48],[47,51,45,49],[48,12,46,10,"setIsConnected"],[48,26,46,24],[48,27,46,25],[48,32,46,30],[48,33,46,31],[49,10,47,8],[49,11,47,9],[49,12,47,10],[50,10,49,8,"newSocket"],[50,19,49,17],[50,20,49,18,"on"],[50,22,49,20],[50,23,49,21],[50,38,49,36],[50,40,49,39,"error"],[50,45,49,44],[50,49,49,49],[51,12,50,10,"console"],[51,19,50,17],[51,20,50,18,"error"],[51,25,50,23],[51,26,50,24],[51,56,50,54],[51,58,50,56,"error"],[51,63,50,61],[51,64,50,62],[52,12,51,10,"setIsConnected"],[52,26,51,24],[52,27,51,25],[52,32,51,30],[52,33,51,31],[53,10,52,8],[53,11,52,9],[53,12,52,10],[54,10,54,8,"newSocket"],[54,19,54,17],[54,20,54,18,"on"],[54,22,54,20],[54,23,54,21],[54,36,54,34],[54,38,54,37,"data"],[54,42,54,41],[54,46,54,46],[55,12,55,10,"console"],[55,19,55,17],[55,20,55,18,"log"],[55,23,55,21],[55,24,55,22],[55,55,55,53],[55,57,55,55,"data"],[55,61,55,59],[55,62,55,60],[56,10,56,8],[56,11,56,9],[56,12,56,10],[57,10,58,8,"newSocket"],[57,19,58,17],[57,20,58,18,"on"],[57,22,58,20],[57,23,58,21],[57,41,58,39],[57,43,58,42,"data"],[57,47,58,46],[57,51,58,51],[58,12,59,10,"console"],[58,19,59,17],[58,20,59,18,"log"],[58,23,59,21],[58,24,59,22],[58,47,59,45],[58,49,59,47,"data"],[58,53,59,51],[58,54,59,52],[59,10,60,8],[59,11,60,9],[59,12,60,10],[60,10,62,8,"newSocket"],[60,19,62,17],[60,20,62,18,"on"],[60,22,62,20],[60,23,62,21],[60,42,62,40],[60,44,62,43,"data"],[60,48,62,47],[60,52,62,52],[61,12,63,10,"console"],[61,19,63,17],[61,20,63,18,"log"],[61,23,63,21],[61,24,63,22],[61,47,63,45],[61,49,63,47,"data"],[61,53,63,51],[61,54,63,52],[62,10,64,8],[62,11,64,9],[62,12,64,10],[63,10,66,8,"newSocket"],[63,19,66,17],[63,20,66,18,"on"],[63,22,66,20],[63,23,66,21],[63,41,66,39],[63,43,66,42,"data"],[63,47,66,46],[63,51,66,51],[64,12,67,10,"console"],[64,19,67,17],[64,20,67,18,"log"],[64,23,67,21],[64,24,67,22],[64,52,67,50],[64,54,67,52,"data"],[64,58,67,56],[64,59,67,57],[65,10,68,8],[65,11,68,9],[65,12,68,10],[66,10,70,8,"setSocket"],[66,19,70,17],[66,20,70,18,"newSocket"],[66,29,70,27],[66,30,70,28],[67,10,72,8],[67,17,72,15],[67,23,72,21],[68,12,73,10,"console"],[68,19,73,17],[68,20,73,18,"log"],[68,23,73,21],[68,24,73,22],[68,55,73,53],[68,56,73,54],[69,12,74,10,"newSocket"],[69,21,74,19],[69,22,74,20,"close"],[69,27,74,25],[69,28,74,26],[69,29,74,27],[70,12,75,10,"setSocket"],[70,21,75,19],[70,22,75,20],[70,26,75,24],[70,27,75,25],[71,12,76,10,"setIsConnected"],[71,26,76,24],[71,27,76,25],[71,32,76,30],[71,33,76,31],[72,10,77,8],[72,11,77,9],[73,8,78,6],[73,9,78,7],[73,10,78,8],[73,17,78,15,"error"],[73,22,78,20],[73,24,78,22],[74,10,79,8,"console"],[74,17,79,15],[74,18,79,16,"error"],[74,23,79,21],[74,24,79,22],[74,52,79,50],[74,54,79,52,"error"],[74,59,79,57],[74,60,79,58],[75,8,80,6],[76,6,81,4],[77,4,82,2],[77,5,82,3],[77,7,82,5],[77,8,82,6,"user"],[77,12,82,10],[77,14,82,12,"token"],[77,19,82,17],[77,20,82,18],[77,21,82,19],[78,4,84,2],[78,10,84,8,"value"],[78,15,84,32],[78,18,84,35],[79,6,85,4,"socket"],[79,12,85,10],[80,6,86,4,"isConnected"],[81,4,87,2],[81,5,87,3],[82,4,89,2],[82,24,89,9],[82,28,89,9,"_jsxDevRuntime"],[82,42,89,9],[82,43,89,9,"jsxDEV"],[82,49,89,9],[82,51,89,10,"SocketContext"],[82,64,89,23],[82,65,89,24,"Provider"],[82,73,89,32],[83,6,89,33,"value"],[83,11,89,38],[83,13,89,40,"value"],[83,18,89,46],[84,6,89,46,"children"],[84,14,89,46],[84,16,89,48,"children"],[85,4,89,56],[86,6,89,56,"fileName"],[86,14,89,56],[86,16,89,56,"_jsxFileName"],[86,28,89,56],[87,6,89,56,"lineNumber"],[87,16,89,56],[88,6,89,56,"columnNumber"],[88,18,89,56],[89,4,89,56],[89,11,89,81],[89,12,89,82],[90,2,90,0],[90,3,90,1],[91,2,90,2,"exports"],[91,9,90,2],[91,10,90,2,"SocketProvider"],[91,24,90,2],[91,27,90,2,"SocketProvider"],[91,41,90,2],[92,0,90,2],[92,3]],"functionMap":{"names":["<global>","useSocket","SocketProvider","useEffect$argument_0","newSocket.on$argument_1","<anonymous>"],"mappings":"AAA;yBCW;CDM;uEEE;YCK;gCCc;SDG;mCCE;SDG;sCCE;SDG;oCCE;SDE;yCCE;SDE;0CCE;SDE;yCCE;SDE;eEI;SFK;GDK;CFQ"}},"type":"js/module"}]}