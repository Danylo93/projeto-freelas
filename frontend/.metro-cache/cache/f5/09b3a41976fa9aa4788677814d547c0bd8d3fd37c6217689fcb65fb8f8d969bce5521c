{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"]}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"]}},{"name":"socket.io-client","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":46,"index":125}}],"key":"LVgCyxgUdze/lYG0kA6DdCAztfM=","exportNames":["*"]}},{"name":"./AuthContext","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":126},"end":{"line":3,"column":40,"index":166}}],"key":"YmpzODa+dVz64UAAYTI+RwJeEt0=","exportNames":["*"]}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.useSocket = exports.SocketProvider = void 0;\n  var _env2 = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _react = _interopRequireWildcard(require(_dependencyMap[1], \"react\"));\n  var _socket = require(_dependencyMap[2], \"socket.io-client\");\n  var _AuthContext = require(_dependencyMap[3], \"./AuthContext\");\n  var _jsxDevRuntime = require(_dependencyMap[4], \"react/jsx-dev-runtime\");\n  var _jsxFileName = \"/app/frontend/contexts/SocketContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  function _interopRequireWildcard(e, t) { if (\"function\" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function (e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (const t in e) \"default\" !== t && {}.hasOwnProperty.call(e, t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, t)) && (i.get || i.set) ? o(f, t, i) : f[t] = e[t]); return f; })(e, t); }\n  const SocketContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const useSocket = () => {\n    _s();\n    const context = (0, _react.useContext)(SocketContext);\n    if (!context) {\n      throw new Error('useSocket must be used within a SocketProvider');\n    }\n    return context;\n  };\n  exports.useSocket = useSocket;\n  _s(useSocket, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  const SocketProvider = ({\n    children\n  }) => {\n    _s2();\n    const [socket, setSocket] = (0, _react.useState)(null);\n    const [isConnected, setIsConnected] = (0, _react.useState)(false);\n    const {\n      user,\n      token\n    } = (0, _AuthContext.useAuth)();\n    (0, _react.useEffect)(() => {\n      if (user && token) {\n        console.log('🔌 Conectando ao Socket.io...');\n        const newSocket = (0, _socket.io)(_env2.env.EXPO_PUBLIC_BACKEND_URL, {\n          auth: {\n            user_id: user.id,\n            user_type: user.user_type,\n            token: token\n          },\n          transports: ['websocket', 'polling']\n        });\n        newSocket.on('connect', () => {\n          console.log('✅ Socket.io conectado:', newSocket.id);\n          setIsConnected(true);\n        });\n        newSocket.on('disconnect', () => {\n          console.log('❌ Socket.io desconectado');\n          setIsConnected(false);\n        });\n        newSocket.on('new_request', data => {\n          console.log('🔔 Nova solicitação recebida:', data);\n          // Aqui você pode adicionar notificações push ou atualizações em tempo real\n        });\n        newSocket.on('request_accepted', data => {\n          console.log('✅ Solicitação aceita:', data);\n        });\n        newSocket.on('request_completed', data => {\n          console.log('🎉 Serviço concluído:', data);\n        });\n        newSocket.on('location_updated', data => {\n          console.log('📍 Localização atualizada:', data);\n        });\n        setSocket(newSocket);\n        return () => {\n          console.log('🔌 Desconectando Socket.io...');\n          newSocket.close();\n          setSocket(null);\n          setIsConnected(false);\n        };\n      }\n    }, [user, token]);\n    const value = {\n      socket,\n      isConnected\n    };\n    return /*#__PURE__*/(0, _jsxDevRuntime.jsxDEV)(SocketContext.Provider, {\n      value: value,\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 10\n    }, this);\n  };\n  exports.SocketProvider = SocketProvider;\n  _s2(SocketProvider, \"pEh9rhipEGwpuv3ckPmQgrUd5+U=\", false, function () {\n    return [_AuthContext.useAuth];\n  });\n  _c = SocketProvider;\n  var _c;\n  $RefreshReg$(_c, \"SocketProvider\");\n});","lineCount":97,"map":[[7,2,1,0],[7,6,1,0,"_react"],[7,12,1,0],[7,15,1,0,"_interopRequireWildcard"],[7,38,1,0],[7,39,1,0,"require"],[7,46,1,0],[7,47,1,0,"_dependencyMap"],[7,61,1,0],[8,2,2,0],[8,6,2,0,"_socket"],[8,13,2,0],[8,16,2,0,"require"],[8,23,2,0],[8,24,2,0,"_dependencyMap"],[8,38,2,0],[9,2,3,0],[9,6,3,0,"_AuthContext"],[9,18,3,0],[9,21,3,0,"require"],[9,28,3,0],[9,29,3,0,"_dependencyMap"],[9,43,3,0],[10,2,3,40],[10,6,3,40,"_jsxDevRuntime"],[10,20,3,40],[10,23,3,40,"require"],[10,30,3,40],[10,31,3,40,"_dependencyMap"],[10,45,3,40],[11,2,3,40],[11,6,3,40,"_jsxFileName"],[11,18,3,40],[12,4,3,40,"_s"],[12,6,3,40],[12,9,3,40,"$RefreshSig$"],[12,21,3,40],[13,4,3,40,"_s2"],[13,7,3,40],[13,10,3,40,"$RefreshSig$"],[13,22,3,40],[14,2,3,40],[14,11,3,40,"_interopRequireWildcard"],[14,35,3,40,"e"],[14,36,3,40],[14,38,3,40,"t"],[14,39,3,40],[14,68,3,40,"WeakMap"],[14,75,3,40],[14,81,3,40,"r"],[14,82,3,40],[14,89,3,40,"WeakMap"],[14,96,3,40],[14,100,3,40,"n"],[14,101,3,40],[14,108,3,40,"WeakMap"],[14,115,3,40],[14,127,3,40,"_interopRequireWildcard"],[14,150,3,40],[14,162,3,40,"_interopRequireWildcard"],[14,163,3,40,"e"],[14,164,3,40],[14,166,3,40,"t"],[14,167,3,40],[14,176,3,40,"t"],[14,177,3,40],[14,181,3,40,"e"],[14,182,3,40],[14,186,3,40,"e"],[14,187,3,40],[14,188,3,40,"__esModule"],[14,198,3,40],[14,207,3,40,"e"],[14,208,3,40],[14,214,3,40,"o"],[14,215,3,40],[14,217,3,40,"i"],[14,218,3,40],[14,220,3,40,"f"],[14,221,3,40],[14,226,3,40,"__proto__"],[14,235,3,40],[14,243,3,40,"default"],[14,250,3,40],[14,252,3,40,"e"],[14,253,3,40],[14,270,3,40,"e"],[14,271,3,40],[14,294,3,40,"e"],[14,295,3,40],[14,320,3,40,"e"],[14,321,3,40],[14,330,3,40,"f"],[14,331,3,40],[14,337,3,40,"o"],[14,338,3,40],[14,341,3,40,"t"],[14,342,3,40],[14,345,3,40,"n"],[14,346,3,40],[14,349,3,40,"r"],[14,350,3,40],[14,358,3,40,"o"],[14,359,3,40],[14,360,3,40,"has"],[14,363,3,40],[14,364,3,40,"e"],[14,365,3,40],[14,375,3,40,"o"],[14,376,3,40],[14,377,3,40,"get"],[14,380,3,40],[14,381,3,40,"e"],[14,382,3,40],[14,385,3,40,"o"],[14,386,3,40],[14,387,3,40,"set"],[14,390,3,40],[14,391,3,40,"e"],[14,392,3,40],[14,394,3,40,"f"],[14,395,3,40],[14,411,3,40,"t"],[14,412,3,40],[14,416,3,40,"e"],[14,417,3,40],[14,433,3,40,"t"],[14,434,3,40],[14,441,3,40,"hasOwnProperty"],[14,455,3,40],[14,456,3,40,"call"],[14,460,3,40],[14,461,3,40,"e"],[14,462,3,40],[14,464,3,40,"t"],[14,465,3,40],[14,472,3,40,"i"],[14,473,3,40],[14,477,3,40,"o"],[14,478,3,40],[14,481,3,40,"Object"],[14,487,3,40],[14,488,3,40,"defineProperty"],[14,502,3,40],[14,507,3,40,"Object"],[14,513,3,40],[14,514,3,40,"getOwnPropertyDescriptor"],[14,538,3,40],[14,539,3,40,"e"],[14,540,3,40],[14,542,3,40,"t"],[14,543,3,40],[14,550,3,40,"i"],[14,551,3,40],[14,552,3,40,"get"],[14,555,3,40],[14,559,3,40,"i"],[14,560,3,40],[14,561,3,40,"set"],[14,564,3,40],[14,568,3,40,"o"],[14,569,3,40],[14,570,3,40,"f"],[14,571,3,40],[14,573,3,40,"t"],[14,574,3,40],[14,576,3,40,"i"],[14,577,3,40],[14,581,3,40,"f"],[14,582,3,40],[14,583,3,40,"t"],[14,584,3,40],[14,588,3,40,"e"],[14,589,3,40],[14,590,3,40,"t"],[14,591,3,40],[14,602,3,40,"f"],[14,603,3,40],[14,608,3,40,"e"],[14,609,3,40],[14,611,3,40,"t"],[14,612,3,40],[15,2,10,0],[15,8,10,6,"SocketContext"],[15,21,10,19],[15,37,10,22],[15,41,10,22,"createContext"],[15,61,10,35],[15,63,10,67,"undefined"],[15,72,10,76],[15,73,10,77],[16,2,12,7],[16,8,12,13,"useSocket"],[16,17,12,22],[16,20,12,25,"useSocket"],[16,21,12,25],[16,26,12,31],[17,4,12,31,"_s"],[17,6,12,31],[18,4,13,2],[18,10,13,8,"context"],[18,17,13,15],[18,20,13,18],[18,24,13,18,"useContext"],[18,41,13,28],[18,43,13,29,"SocketContext"],[18,56,13,42],[18,57,13,43],[19,4,14,2],[19,8,14,6],[19,9,14,7,"context"],[19,16,14,14],[19,18,14,16],[20,6,15,4],[20,12,15,10],[20,16,15,14,"Error"],[20,21,15,19],[20,22,15,20],[20,70,15,68],[20,71,15,69],[21,4,16,2],[22,4,17,2],[22,11,17,9,"context"],[22,18,17,16],[23,2,18,0],[23,3,18,1],[24,2,18,2,"exports"],[24,9,18,2],[24,10,18,2,"useSocket"],[24,19,18,2],[24,22,18,2,"useSocket"],[24,31,18,2],[25,2,18,2,"_s"],[25,4,18,2],[25,5,12,13,"useSocket"],[25,14,12,22],[26,2,20,7],[26,8,20,13,"SocketProvider"],[26,22,20,68],[26,25,20,71,"SocketProvider"],[26,26,20,72],[27,4,20,74,"children"],[28,2,20,83],[28,3,20,84],[28,8,20,89],[29,4,20,89,"_s2"],[29,7,20,89],[30,4,21,2],[30,10,21,8],[30,11,21,9,"socket"],[30,17,21,15],[30,19,21,17,"setSocket"],[30,28,21,26],[30,29,21,27],[30,32,21,30],[30,36,21,30,"useState"],[30,51,21,38],[30,53,21,54],[30,57,21,58],[30,58,21,59],[31,4,22,2],[31,10,22,8],[31,11,22,9,"isConnected"],[31,22,22,20],[31,24,22,22,"setIsConnected"],[31,38,22,36],[31,39,22,37],[31,42,22,40],[31,46,22,40,"useState"],[31,61,22,48],[31,63,22,49],[31,68,22,54],[31,69,22,55],[32,4,23,2],[32,10,23,8],[33,6,23,10,"user"],[33,10,23,14],[34,6,23,16,"token"],[35,4,23,22],[35,5,23,23],[35,8,23,26],[35,12,23,26,"useAuth"],[35,32,23,33],[35,34,23,34],[35,35,23,35],[36,4,25,2],[36,8,25,2,"useEffect"],[36,24,25,11],[36,26,25,12],[36,32,25,18],[37,6,26,4],[37,10,26,8,"user"],[37,14,26,12],[37,18,26,16,"token"],[37,23,26,21],[37,25,26,23],[38,8,27,6,"console"],[38,15,27,13],[38,16,27,14,"log"],[38,19,27,17],[38,20,27,18],[38,51,27,49],[38,52,27,50],[39,8,29,6],[39,14,29,12,"newSocket"],[39,23,29,21],[39,26,29,24],[39,30,29,24,"io"],[39,40,29,26],[39,42,29,26,"_env2"],[39,47,29,26],[39,48,29,26,"env"],[39,51,29,26],[39,52,29,26,"EXPO_PUBLIC_BACKEND_URL"],[39,75,29,26],[39,77,29,65],[40,10,30,8,"auth"],[40,14,30,12],[40,16,30,14],[41,12,31,10,"user_id"],[41,19,31,17],[41,21,31,19,"user"],[41,25,31,23],[41,26,31,24,"id"],[41,28,31,26],[42,12,32,10,"user_type"],[42,21,32,19],[42,23,32,21,"user"],[42,27,32,25],[42,28,32,26,"user_type"],[42,37,32,35],[43,12,33,10,"token"],[43,17,33,15],[43,19,33,17,"token"],[44,10,34,8],[44,11,34,9],[45,10,35,8,"transports"],[45,20,35,18],[45,22,35,20],[45,23,35,21],[45,34,35,32],[45,36,35,34],[45,45,35,43],[46,8,36,6],[46,9,36,7],[46,10,36,8],[47,8,38,6,"newSocket"],[47,17,38,15],[47,18,38,16,"on"],[47,20,38,18],[47,21,38,19],[47,30,38,28],[47,32,38,30],[47,38,38,36],[48,10,39,8,"console"],[48,17,39,15],[48,18,39,16,"log"],[48,21,39,19],[48,22,39,20],[48,46,39,44],[48,48,39,46,"newSocket"],[48,57,39,55],[48,58,39,56,"id"],[48,60,39,58],[48,61,39,59],[49,10,40,8,"setIsConnected"],[49,24,40,22],[49,25,40,23],[49,29,40,27],[49,30,40,28],[50,8,41,6],[50,9,41,7],[50,10,41,8],[51,8,43,6,"newSocket"],[51,17,43,15],[51,18,43,16,"on"],[51,20,43,18],[51,21,43,19],[51,33,43,31],[51,35,43,33],[51,41,43,39],[52,10,44,8,"console"],[52,17,44,15],[52,18,44,16,"log"],[52,21,44,19],[52,22,44,20],[52,48,44,46],[52,49,44,47],[53,10,45,8,"setIsConnected"],[53,24,45,22],[53,25,45,23],[53,30,45,28],[53,31,45,29],[54,8,46,6],[54,9,46,7],[54,10,46,8],[55,8,48,6,"newSocket"],[55,17,48,15],[55,18,48,16,"on"],[55,20,48,18],[55,21,48,19],[55,34,48,32],[55,36,48,35,"data"],[55,40,48,39],[55,44,48,44],[56,10,49,8,"console"],[56,17,49,15],[56,18,49,16,"log"],[56,21,49,19],[56,22,49,20],[56,53,49,51],[56,55,49,53,"data"],[56,59,49,57],[56,60,49,58],[57,10,50,8],[58,8,51,6],[58,9,51,7],[58,10,51,8],[59,8,53,6,"newSocket"],[59,17,53,15],[59,18,53,16,"on"],[59,20,53,18],[59,21,53,19],[59,39,53,37],[59,41,53,40,"data"],[59,45,53,44],[59,49,53,49],[60,10,54,8,"console"],[60,17,54,15],[60,18,54,16,"log"],[60,21,54,19],[60,22,54,20],[60,45,54,43],[60,47,54,45,"data"],[60,51,54,49],[60,52,54,50],[61,8,55,6],[61,9,55,7],[61,10,55,8],[62,8,57,6,"newSocket"],[62,17,57,15],[62,18,57,16,"on"],[62,20,57,18],[62,21,57,19],[62,40,57,38],[62,42,57,41,"data"],[62,46,57,45],[62,50,57,50],[63,10,58,8,"console"],[63,17,58,15],[63,18,58,16,"log"],[63,21,58,19],[63,22,58,20],[63,45,58,43],[63,47,58,45,"data"],[63,51,58,49],[63,52,58,50],[64,8,59,6],[64,9,59,7],[64,10,59,8],[65,8,61,6,"newSocket"],[65,17,61,15],[65,18,61,16,"on"],[65,20,61,18],[65,21,61,19],[65,39,61,37],[65,41,61,40,"data"],[65,45,61,44],[65,49,61,49],[66,10,62,8,"console"],[66,17,62,15],[66,18,62,16,"log"],[66,21,62,19],[66,22,62,20],[66,50,62,48],[66,52,62,50,"data"],[66,56,62,54],[66,57,62,55],[67,8,63,6],[67,9,63,7],[67,10,63,8],[68,8,65,6,"setSocket"],[68,17,65,15],[68,18,65,16,"newSocket"],[68,27,65,25],[68,28,65,26],[69,8,67,6],[69,15,67,13],[69,21,67,19],[70,10,68,8,"console"],[70,17,68,15],[70,18,68,16,"log"],[70,21,68,19],[70,22,68,20],[70,53,68,51],[70,54,68,52],[71,10,69,8,"newSocket"],[71,19,69,17],[71,20,69,18,"close"],[71,25,69,23],[71,26,69,24],[71,27,69,25],[72,10,70,8,"setSocket"],[72,19,70,17],[72,20,70,18],[72,24,70,22],[72,25,70,23],[73,10,71,8,"setIsConnected"],[73,24,71,22],[73,25,71,23],[73,30,71,28],[73,31,71,29],[74,8,72,6],[74,9,72,7],[75,6,73,4],[76,4,74,2],[76,5,74,3],[76,7,74,5],[76,8,74,6,"user"],[76,12,74,10],[76,14,74,12,"token"],[76,19,74,17],[76,20,74,18],[76,21,74,19],[77,4,76,2],[77,10,76,8,"value"],[77,15,76,32],[77,18,76,35],[78,6,77,4,"socket"],[78,12,77,10],[79,6,78,4,"isConnected"],[80,4,79,2],[80,5,79,3],[81,4,81,2],[81,24,81,9],[81,28,81,9,"_jsxDevRuntime"],[81,42,81,9],[81,43,81,9,"jsxDEV"],[81,49,81,9],[81,51,81,10,"SocketContext"],[81,64,81,23],[81,65,81,24,"Provider"],[81,73,81,32],[82,6,81,33,"value"],[82,11,81,38],[82,13,81,40,"value"],[82,18,81,46],[83,6,81,46,"children"],[83,14,81,46],[83,16,81,48,"children"],[84,4,81,56],[85,6,81,56,"fileName"],[85,14,81,56],[85,16,81,56,"_jsxFileName"],[85,28,81,56],[86,6,81,56,"lineNumber"],[86,16,81,56],[87,6,81,56,"columnNumber"],[87,18,81,56],[88,4,81,56],[88,11,81,81],[88,12,81,82],[89,2,82,0],[89,3,82,1],[90,2,82,2,"exports"],[90,9,82,2],[90,10,82,2,"SocketProvider"],[90,24,82,2],[90,27,82,2,"SocketProvider"],[90,41,82,2],[91,2,82,2,"_s2"],[91,5,82,2],[91,6,20,13,"SocketProvider"],[91,20,20,68],[92,4,20,68],[92,12,23,26,"useAuth"],[92,32,23,33],[93,2,23,33],[94,2,23,33,"_c"],[94,4,23,33],[94,7,20,13,"SocketProvider"],[94,21,20,68],[95,2,20,68],[95,6,20,68,"_c"],[95,8,20,68],[96,2,20,68,"$RefreshReg$"],[96,14,20,68],[96,15,20,68,"_c"],[96,17,20,68],[97,0,20,68],[97,3]],"functionMap":{"names":["<global>","useSocket","SocketProvider","useEffect$argument_0","newSocket.on$argument_1","<anonymous>"],"mappings":"AAA;yBCW;CDM;uEEE;YCK;8BCa;ODG;iCCE;ODG;kCCE;ODG;uCCE;ODE;wCCE;ODE;uCCE;ODE;aEI;OFK;GDE;CFQ"}},"type":"js/module"}]}