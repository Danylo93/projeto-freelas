{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"]}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"]}},{"name":"socket.io-client","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":46,"index":125}}],"key":"LVgCyxgUdze/lYG0kA6DdCAztfM=","exportNames":["*"]}},{"name":"./AuthContext","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":126},"end":{"line":3,"column":40,"index":166}}],"key":"YmpzODa+dVz64UAAYTI+RwJeEt0=","exportNames":["*"]}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.useSocket = exports.SocketProvider = void 0;\n  var _env2 = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _react = _interopRequireWildcard(require(_dependencyMap[1], \"react\"));\n  var _socket = require(_dependencyMap[2], \"socket.io-client\");\n  var _AuthContext = require(_dependencyMap[3], \"./AuthContext\");\n  var _jsxDevRuntime = require(_dependencyMap[4], \"react/jsx-dev-runtime\");\n  var _jsxFileName = \"/app/frontend/contexts/SocketContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  function _interopRequireWildcard(e, t) { if (\"function\" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function (e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (const t in e) \"default\" !== t && {}.hasOwnProperty.call(e, t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, t)) && (i.get || i.set) ? o(f, t, i) : f[t] = e[t]); return f; })(e, t); }\n  const SocketContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const useSocket = () => {\n    _s();\n    const context = (0, _react.useContext)(SocketContext);\n    if (!context) {\n      throw new Error('useSocket must be used within a SocketProvider');\n    }\n    return context;\n  };\n  exports.useSocket = useSocket;\n  _s(useSocket, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  const SocketProvider = ({\n    children\n  }) => {\n    _s2();\n    const [socket, setSocket] = (0, _react.useState)(null);\n    const [isConnected, setIsConnected] = (0, _react.useState)(false);\n    const {\n      user,\n      token\n    } = (0, _AuthContext.useAuth)();\n    (0, _react.useEffect)(() => {\n      if (user && token) {\n        console.log('üîå Conectando ao Socket.io...');\n        try {\n          const newSocket = (0, _socket.io)(_env2.env.EXPO_PUBLIC_BACKEND_URL, {\n            auth: {\n              user_id: user.id,\n              user_type: user.user_type,\n              token: token\n            },\n            transports: ['websocket', 'polling']\n          });\n          newSocket.on('connect', () => {\n            console.log('‚úÖ Socket.io conectado:', newSocket.id);\n            setIsConnected(true);\n          });\n          newSocket.on('disconnect', () => {\n            console.log('‚ùå Socket.io desconectado');\n            setIsConnected(false);\n          });\n          newSocket.on('connect_error', error => {\n            console.error('‚ùå Erro de conex√£o Socket.io:', error);\n            setIsConnected(false);\n          });\n          newSocket.on('new_request', data => {\n            console.log('üîî Nova solicita√ß√£o recebida:', data);\n          });\n          newSocket.on('request_accepted', data => {\n            console.log('‚úÖ Solicita√ß√£o aceita:', data);\n          });\n          newSocket.on('request_completed', data => {\n            console.log('üéâ Servi√ßo conclu√≠do:', data);\n          });\n          newSocket.on('location_updated', data => {\n            console.log('üìç Localiza√ß√£o atualizada:', data);\n          });\n          setSocket(newSocket);\n          return () => {\n            console.log('üîå Desconectando Socket.io...');\n            newSocket.close();\n            setSocket(null);\n            setIsConnected(false);\n          };\n        } catch (error) {\n          console.error('‚ùå Erro ao criar Socket.io:', error);\n        }\n      }\n    }, [user, token]);\n    const value = {\n      socket,\n      isConnected\n    };\n    return /*#__PURE__*/(0, _jsxDevRuntime.jsxDEV)(SocketContext.Provider, {\n      value: value,\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 10\n    }, this);\n  };\n  exports.SocketProvider = SocketProvider;\n  _s2(SocketProvider, \"pEh9rhipEGwpuv3ckPmQgrUd5+U=\", false, function () {\n    return [_AuthContext.useAuth];\n  });\n  _c = SocketProvider;\n  var _c;\n  $RefreshReg$(_c, \"SocketProvider\");\n});","lineCount":104,"map":[[7,2,1,0],[7,6,1,0,"_react"],[7,12,1,0],[7,15,1,0,"_interopRequireWildcard"],[7,38,1,0],[7,39,1,0,"require"],[7,46,1,0],[7,47,1,0,"_dependencyMap"],[7,61,1,0],[8,2,2,0],[8,6,2,0,"_socket"],[8,13,2,0],[8,16,2,0,"require"],[8,23,2,0],[8,24,2,0,"_dependencyMap"],[8,38,2,0],[9,2,3,0],[9,6,3,0,"_AuthContext"],[9,18,3,0],[9,21,3,0,"require"],[9,28,3,0],[9,29,3,0,"_dependencyMap"],[9,43,3,0],[10,2,3,40],[10,6,3,40,"_jsxDevRuntime"],[10,20,3,40],[10,23,3,40,"require"],[10,30,3,40],[10,31,3,40,"_dependencyMap"],[10,45,3,40],[11,2,3,40],[11,6,3,40,"_jsxFileName"],[11,18,3,40],[12,4,3,40,"_s"],[12,6,3,40],[12,9,3,40,"$RefreshSig$"],[12,21,3,40],[13,4,3,40,"_s2"],[13,7,3,40],[13,10,3,40,"$RefreshSig$"],[13,22,3,40],[14,2,3,40],[14,11,3,40,"_interopRequireWildcard"],[14,35,3,40,"e"],[14,36,3,40],[14,38,3,40,"t"],[14,39,3,40],[14,68,3,40,"WeakMap"],[14,75,3,40],[14,81,3,40,"r"],[14,82,3,40],[14,89,3,40,"WeakMap"],[14,96,3,40],[14,100,3,40,"n"],[14,101,3,40],[14,108,3,40,"WeakMap"],[14,115,3,40],[14,127,3,40,"_interopRequireWildcard"],[14,150,3,40],[14,162,3,40,"_interopRequireWildcard"],[14,163,3,40,"e"],[14,164,3,40],[14,166,3,40,"t"],[14,167,3,40],[14,176,3,40,"t"],[14,177,3,40],[14,181,3,40,"e"],[14,182,3,40],[14,186,3,40,"e"],[14,187,3,40],[14,188,3,40,"__esModule"],[14,198,3,40],[14,207,3,40,"e"],[14,208,3,40],[14,214,3,40,"o"],[14,215,3,40],[14,217,3,40,"i"],[14,218,3,40],[14,220,3,40,"f"],[14,221,3,40],[14,226,3,40,"__proto__"],[14,235,3,40],[14,243,3,40,"default"],[14,250,3,40],[14,252,3,40,"e"],[14,253,3,40],[14,270,3,40,"e"],[14,271,3,40],[14,294,3,40,"e"],[14,295,3,40],[14,320,3,40,"e"],[14,321,3,40],[14,330,3,40,"f"],[14,331,3,40],[14,337,3,40,"o"],[14,338,3,40],[14,341,3,40,"t"],[14,342,3,40],[14,345,3,40,"n"],[14,346,3,40],[14,349,3,40,"r"],[14,350,3,40],[14,358,3,40,"o"],[14,359,3,40],[14,360,3,40,"has"],[14,363,3,40],[14,364,3,40,"e"],[14,365,3,40],[14,375,3,40,"o"],[14,376,3,40],[14,377,3,40,"get"],[14,380,3,40],[14,381,3,40,"e"],[14,382,3,40],[14,385,3,40,"o"],[14,386,3,40],[14,387,3,40,"set"],[14,390,3,40],[14,391,3,40,"e"],[14,392,3,40],[14,394,3,40,"f"],[14,395,3,40],[14,411,3,40,"t"],[14,412,3,40],[14,416,3,40,"e"],[14,417,3,40],[14,433,3,40,"t"],[14,434,3,40],[14,441,3,40,"hasOwnProperty"],[14,455,3,40],[14,456,3,40,"call"],[14,460,3,40],[14,461,3,40,"e"],[14,462,3,40],[14,464,3,40,"t"],[14,465,3,40],[14,472,3,40,"i"],[14,473,3,40],[14,477,3,40,"o"],[14,478,3,40],[14,481,3,40,"Object"],[14,487,3,40],[14,488,3,40,"defineProperty"],[14,502,3,40],[14,507,3,40,"Object"],[14,513,3,40],[14,514,3,40,"getOwnPropertyDescriptor"],[14,538,3,40],[14,539,3,40,"e"],[14,540,3,40],[14,542,3,40,"t"],[14,543,3,40],[14,550,3,40,"i"],[14,551,3,40],[14,552,3,40,"get"],[14,555,3,40],[14,559,3,40,"i"],[14,560,3,40],[14,561,3,40,"set"],[14,564,3,40],[14,568,3,40,"o"],[14,569,3,40],[14,570,3,40,"f"],[14,571,3,40],[14,573,3,40,"t"],[14,574,3,40],[14,576,3,40,"i"],[14,577,3,40],[14,581,3,40,"f"],[14,582,3,40],[14,583,3,40,"t"],[14,584,3,40],[14,588,3,40,"e"],[14,589,3,40],[14,590,3,40,"t"],[14,591,3,40],[14,602,3,40,"f"],[14,603,3,40],[14,608,3,40,"e"],[14,609,3,40],[14,611,3,40,"t"],[14,612,3,40],[15,2,10,0],[15,8,10,6,"SocketContext"],[15,21,10,19],[15,37,10,22],[15,41,10,22,"createContext"],[15,61,10,35],[15,63,10,67,"undefined"],[15,72,10,76],[15,73,10,77],[16,2,12,7],[16,8,12,13,"useSocket"],[16,17,12,22],[16,20,12,25,"useSocket"],[16,21,12,25],[16,26,12,31],[17,4,12,31,"_s"],[17,6,12,31],[18,4,13,2],[18,10,13,8,"context"],[18,17,13,15],[18,20,13,18],[18,24,13,18,"useContext"],[18,41,13,28],[18,43,13,29,"SocketContext"],[18,56,13,42],[18,57,13,43],[19,4,14,2],[19,8,14,6],[19,9,14,7,"context"],[19,16,14,14],[19,18,14,16],[20,6,15,4],[20,12,15,10],[20,16,15,14,"Error"],[20,21,15,19],[20,22,15,20],[20,70,15,68],[20,71,15,69],[21,4,16,2],[22,4,17,2],[22,11,17,9,"context"],[22,18,17,16],[23,2,18,0],[23,3,18,1],[24,2,18,2,"exports"],[24,9,18,2],[24,10,18,2,"useSocket"],[24,19,18,2],[24,22,18,2,"useSocket"],[24,31,18,2],[25,2,18,2,"_s"],[25,4,18,2],[25,5,12,13,"useSocket"],[25,14,12,22],[26,2,20,7],[26,8,20,13,"SocketProvider"],[26,22,20,68],[26,25,20,71,"SocketProvider"],[26,26,20,72],[27,4,20,74,"children"],[28,2,20,83],[28,3,20,84],[28,8,20,89],[29,4,20,89,"_s2"],[29,7,20,89],[30,4,21,2],[30,10,21,8],[30,11,21,9,"socket"],[30,17,21,15],[30,19,21,17,"setSocket"],[30,28,21,26],[30,29,21,27],[30,32,21,30],[30,36,21,30,"useState"],[30,51,21,38],[30,53,21,54],[30,57,21,58],[30,58,21,59],[31,4,22,2],[31,10,22,8],[31,11,22,9,"isConnected"],[31,22,22,20],[31,24,22,22,"setIsConnected"],[31,38,22,36],[31,39,22,37],[31,42,22,40],[31,46,22,40,"useState"],[31,61,22,48],[31,63,22,49],[31,68,22,54],[31,69,22,55],[32,4,23,2],[32,10,23,8],[33,6,23,10,"user"],[33,10,23,14],[34,6,23,16,"token"],[35,4,23,22],[35,5,23,23],[35,8,23,26],[35,12,23,26,"useAuth"],[35,32,23,33],[35,34,23,34],[35,35,23,35],[36,4,25,2],[36,8,25,2,"useEffect"],[36,24,25,11],[36,26,25,12],[36,32,25,18],[37,6,26,4],[37,10,26,8,"user"],[37,14,26,12],[37,18,26,16,"token"],[37,23,26,21],[37,25,26,23],[38,8,27,6,"console"],[38,15,27,13],[38,16,27,14,"log"],[38,19,27,17],[38,20,27,18],[38,51,27,49],[38,52,27,50],[39,8,29,6],[39,12,29,10],[40,10,30,8],[40,16,30,14,"newSocket"],[40,25,30,23],[40,28,30,26],[40,32,30,26,"io"],[40,42,30,28],[40,44,30,28,"_env2"],[40,49,30,28],[40,50,30,28,"env"],[40,53,30,28],[40,54,30,28,"EXPO_PUBLIC_BACKEND_URL"],[40,77,30,28],[40,79,30,67],[41,12,31,10,"auth"],[41,16,31,14],[41,18,31,16],[42,14,32,12,"user_id"],[42,21,32,19],[42,23,32,21,"user"],[42,27,32,25],[42,28,32,26,"id"],[42,30,32,28],[43,14,33,12,"user_type"],[43,23,33,21],[43,25,33,23,"user"],[43,29,33,27],[43,30,33,28,"user_type"],[43,39,33,37],[44,14,34,12,"token"],[44,19,34,17],[44,21,34,19,"token"],[45,12,35,10],[45,13,35,11],[46,12,36,10,"transports"],[46,22,36,20],[46,24,36,22],[46,25,36,23],[46,36,36,34],[46,38,36,36],[46,47,36,45],[47,10,37,8],[47,11,37,9],[47,12,37,10],[48,10,39,8,"newSocket"],[48,19,39,17],[48,20,39,18,"on"],[48,22,39,20],[48,23,39,21],[48,32,39,30],[48,34,39,32],[48,40,39,38],[49,12,40,10,"console"],[49,19,40,17],[49,20,40,18,"log"],[49,23,40,21],[49,24,40,22],[49,48,40,46],[49,50,40,48,"newSocket"],[49,59,40,57],[49,60,40,58,"id"],[49,62,40,60],[49,63,40,61],[50,12,41,10,"setIsConnected"],[50,26,41,24],[50,27,41,25],[50,31,41,29],[50,32,41,30],[51,10,42,8],[51,11,42,9],[51,12,42,10],[52,10,44,8,"newSocket"],[52,19,44,17],[52,20,44,18,"on"],[52,22,44,20],[52,23,44,21],[52,35,44,33],[52,37,44,35],[52,43,44,41],[53,12,45,10,"console"],[53,19,45,17],[53,20,45,18,"log"],[53,23,45,21],[53,24,45,22],[53,50,45,48],[53,51,45,49],[54,12,46,10,"setIsConnected"],[54,26,46,24],[54,27,46,25],[54,32,46,30],[54,33,46,31],[55,10,47,8],[55,11,47,9],[55,12,47,10],[56,10,49,8,"newSocket"],[56,19,49,17],[56,20,49,18,"on"],[56,22,49,20],[56,23,49,21],[56,38,49,36],[56,40,49,39,"error"],[56,45,49,44],[56,49,49,49],[57,12,50,10,"console"],[57,19,50,17],[57,20,50,18,"error"],[57,25,50,23],[57,26,50,24],[57,56,50,54],[57,58,50,56,"error"],[57,63,50,61],[57,64,50,62],[58,12,51,10,"setIsConnected"],[58,26,51,24],[58,27,51,25],[58,32,51,30],[58,33,51,31],[59,10,52,8],[59,11,52,9],[59,12,52,10],[60,10,54,8,"newSocket"],[60,19,54,17],[60,20,54,18,"on"],[60,22,54,20],[60,23,54,21],[60,36,54,34],[60,38,54,37,"data"],[60,42,54,41],[60,46,54,46],[61,12,55,10,"console"],[61,19,55,17],[61,20,55,18,"log"],[61,23,55,21],[61,24,55,22],[61,55,55,53],[61,57,55,55,"data"],[61,61,55,59],[61,62,55,60],[62,10,56,8],[62,11,56,9],[62,12,56,10],[63,10,58,8,"newSocket"],[63,19,58,17],[63,20,58,18,"on"],[63,22,58,20],[63,23,58,21],[63,41,58,39],[63,43,58,42,"data"],[63,47,58,46],[63,51,58,51],[64,12,59,10,"console"],[64,19,59,17],[64,20,59,18,"log"],[64,23,59,21],[64,24,59,22],[64,47,59,45],[64,49,59,47,"data"],[64,53,59,51],[64,54,59,52],[65,10,60,8],[65,11,60,9],[65,12,60,10],[66,10,62,8,"newSocket"],[66,19,62,17],[66,20,62,18,"on"],[66,22,62,20],[66,23,62,21],[66,42,62,40],[66,44,62,43,"data"],[66,48,62,47],[66,52,62,52],[67,12,63,10,"console"],[67,19,63,17],[67,20,63,18,"log"],[67,23,63,21],[67,24,63,22],[67,47,63,45],[67,49,63,47,"data"],[67,53,63,51],[67,54,63,52],[68,10,64,8],[68,11,64,9],[68,12,64,10],[69,10,66,8,"newSocket"],[69,19,66,17],[69,20,66,18,"on"],[69,22,66,20],[69,23,66,21],[69,41,66,39],[69,43,66,42,"data"],[69,47,66,46],[69,51,66,51],[70,12,67,10,"console"],[70,19,67,17],[70,20,67,18,"log"],[70,23,67,21],[70,24,67,22],[70,52,67,50],[70,54,67,52,"data"],[70,58,67,56],[70,59,67,57],[71,10,68,8],[71,11,68,9],[71,12,68,10],[72,10,70,8,"setSocket"],[72,19,70,17],[72,20,70,18,"newSocket"],[72,29,70,27],[72,30,70,28],[73,10,72,8],[73,17,72,15],[73,23,72,21],[74,12,73,10,"console"],[74,19,73,17],[74,20,73,18,"log"],[74,23,73,21],[74,24,73,22],[74,55,73,53],[74,56,73,54],[75,12,74,10,"newSocket"],[75,21,74,19],[75,22,74,20,"close"],[75,27,74,25],[75,28,74,26],[75,29,74,27],[76,12,75,10,"setSocket"],[76,21,75,19],[76,22,75,20],[76,26,75,24],[76,27,75,25],[77,12,76,10,"setIsConnected"],[77,26,76,24],[77,27,76,25],[77,32,76,30],[77,33,76,31],[78,10,77,8],[78,11,77,9],[79,8,78,6],[79,9,78,7],[79,10,78,8],[79,17,78,15,"error"],[79,22,78,20],[79,24,78,22],[80,10,79,8,"console"],[80,17,79,15],[80,18,79,16,"error"],[80,23,79,21],[80,24,79,22],[80,52,79,50],[80,54,79,52,"error"],[80,59,79,57],[80,60,79,58],[81,8,80,6],[82,6,81,4],[83,4,82,2],[83,5,82,3],[83,7,82,5],[83,8,82,6,"user"],[83,12,82,10],[83,14,82,12,"token"],[83,19,82,17],[83,20,82,18],[83,21,82,19],[84,4,84,2],[84,10,84,8,"value"],[84,15,84,32],[84,18,84,35],[85,6,85,4,"socket"],[85,12,85,10],[86,6,86,4,"isConnected"],[87,4,87,2],[87,5,87,3],[88,4,89,2],[88,24,89,9],[88,28,89,9,"_jsxDevRuntime"],[88,42,89,9],[88,43,89,9,"jsxDEV"],[88,49,89,9],[88,51,89,10,"SocketContext"],[88,64,89,23],[88,65,89,24,"Provider"],[88,73,89,32],[89,6,89,33,"value"],[89,11,89,38],[89,13,89,40,"value"],[89,18,89,46],[90,6,89,46,"children"],[90,14,89,46],[90,16,89,48,"children"],[91,4,89,56],[92,6,89,56,"fileName"],[92,14,89,56],[92,16,89,56,"_jsxFileName"],[92,28,89,56],[93,6,89,56,"lineNumber"],[93,16,89,56],[94,6,89,56,"columnNumber"],[94,18,89,56],[95,4,89,56],[95,11,89,81],[95,12,89,82],[96,2,90,0],[96,3,90,1],[97,2,90,2,"exports"],[97,9,90,2],[97,10,90,2,"SocketProvider"],[97,24,90,2],[97,27,90,2,"SocketProvider"],[97,41,90,2],[98,2,90,2,"_s2"],[98,5,90,2],[98,6,20,13,"SocketProvider"],[98,20,20,68],[99,4,20,68],[99,12,23,26,"useAuth"],[99,32,23,33],[100,2,23,33],[101,2,23,33,"_c"],[101,4,23,33],[101,7,20,13,"SocketProvider"],[101,21,20,68],[102,2,20,68],[102,6,20,68,"_c"],[102,8,20,68],[103,2,20,68,"$RefreshReg$"],[103,14,20,68],[103,15,20,68,"_c"],[103,17,20,68],[104,0,20,68],[104,3]],"functionMap":{"names":["<global>","useSocket","SocketProvider","useEffect$argument_0","newSocket.on$argument_1","<anonymous>"],"mappings":"AAA;yBCW;CDM;uEEE;YCK;gCCc;SDG;mCCE;SDG;sCCE;SDG;oCCE;SDE;yCCE;SDE;0CCE;SDE;yCCE;SDE;eEI;SFK;GDK;CFQ"}},"type":"js/module"}]}