{
  "_type": "export",
  "__export_format": 4,
  "__export_date": "2025-09-15T21:20:00.000Z",
  "__export_source": "insomnia.desktop.app:generated",
  "resources": [
    {
      "_id": "wrk_api_v2_ffvcjm",
      "parentId": null,
      "modified": 1714785600000,
      "created": 1714785600000,
      "name": "API v2 Microservices (ffvcjm)",
      "description": "Coleção baseada na branch feature/resolve-issues-and-add-improvements-ffvcjm.",
      "scope": "collection",
      "_type": "workspace"
    },
    {
      "_id": "env_api_v2_base",
      "parentId": "wrk_api_v2_ffvcjm",
      "modified": 1714785601000,
      "created": 1714785601000,
      "name": "Base Environment",
      "data": {
        "services": {
          "gateway": { "http": "http://localhost:8015", "api": "{{ _.services.gateway.http }}/api" },
          "provider": { "http": "http://localhost:8011" },
          "request":  { "http": "http://localhost:8012" },
          "matching": { "http": "http://localhost:8013" },
          "auth":     { "http": "http://localhost:8014", "api": "{{ _.services.auth.http }}/auth" }
        },
        "auth": {
          "token": "",
          "credentials": {
            "provider": { "email": "joao.prestador@example.com", "password": "123456" },
            "client":   { "email": "maria.cliente@example.com",   "password": "123456" }
          }
        },
        "samples": {
          "provider": { "id": "prov-001", "user_id": "prov-001", "category": "plumber" },
          "client":   { "id": "cli-001" },
          "request":  { "id": "req-001" }
        }
      },
      "color": null,
      "isPrivate": false,
      "metaSortKey": 1714785601000,
      "_type": "environment"
    },

   
    {
      "_id": "fld_gateway",
      "parentId": "wrk_api_v2_ffvcjm",
      "modified": 1714785602000,
      "created": 1714785602000,
      "name": "Gateway HTTP",
      "description": "Rotas expostas pelo socket-gateway (porta 8015).",
      "environment": {},
      "environmentPropertyOrder": null,
      "metaSortKey": -1714785602000,
      "_type": "request_group"
    },
    {
      "_id": "fld_gateway_auth",
      "parentId": "fld_gateway",
      "modified": 1714785603000,
      "created": 1714785603000,
      "name": "Gateway · Auth",
      "description": "",
      "environment": {},
      "environmentPropertyOrder": null,
      "metaSortKey": -1714785603000,
      "_type": "request_group"
    },
    {
      "_id": "fld_gateway_providers",
      "parentId": "fld_gateway",
      "modified": 1714785604000,
      "created": 1714785604000,
      "name": "Gateway · Providers",
      "description": "",
      "environment": {},
      "environmentPropertyOrder": null,
      "metaSortKey": -1714785604000,
      "_type": "request_group"
    },
    {
      "_id": "fld_gateway_requests",
      "parentId": "fld_gateway",
      "modified": 1714785605000,
      "created": 1714785605000,
      "name": "Gateway · Requests",
      "description": "",
      "environment": {},
      "environmentPropertyOrder": null,
      "metaSortKey": -1714785605000,
      "_type": "request_group"
    },


    {
      "_id": "req_gateway_health",
      "parentId": "fld_gateway",
      "modified": 1714785611000,
      "created": 1714785611000,
      "url": "{{ _.services.gateway.http }}/healthz",
      "name": "Gateway Health",
      "method": "GET",
      "body": {},
      "parameters": [],
      "headers": [],
      "authentication": {},
      "metaSortKey": -1714785611000,
      "isPrivate": false,
      "settingStoreCookies": true,
      "settingSendCookies": true,
      "settingEncodeUrl": true,
      "settingRebuildPath": true,
      "settingFollowRedirects": "global",
      "_type": "request"
    },


    {
      "_id": "req_gateway_register_provider",
      "parentId": "fld_gateway_auth",
      "modified": 1714785612000,
      "created": 1714785612000,
      "url": "{{ _.services.gateway.api }}/auth/register",
      "name": "Registrar Prestador",
      "method": "POST",
      "body": { "mimeType": "application/json",
        "text": "{\n  \"name\": \"João Prestador\",\n  \"email\": \"{{ _.auth.credentials.provider.email }}\",\n  \"phone\": \"11999999999\",\n  \"password\": \"{{ _.auth.credentials.provider.password }}\",\n  \"user_type\": 1\n}" },
      "parameters": [],
      "headers": [{ "name": "Content-Type", "value": "application/json" }],
      "authentication": {},
      "metaSortKey": -1714785612000,
      "isPrivate": false,
      "settingStoreCookies": true,
      "settingSendCookies": true,
      "settingEncodeUrl": true,
      "settingRebuildPath": true,
      "settingFollowRedirects": "global",
      "_type": "request"
    },
    {
      "_id": "req_gateway_register_client",
      "parentId": "fld_gateway_auth",
      "modified": 1714785613000,
      "created": 1714785613000,
      "url": "{{ _.services.gateway.api }}/auth/register",
      "name": "Registrar Cliente",
      "method": "POST",
      "body": { "mimeType": "application/json",
        "text": "{\n  \"name\": \"Maria Cliente\",\n  \"email\": \"{{ _.auth.credentials.client.email }}\",\n  \"phone\": \"11988887777\",\n  \"password\": \"{{ _.auth.credentials.client.password }}\",\n  \"user_type\": 2\n}" },
      "parameters": [],
      "headers": [{ "name": "Content-Type", "value": "application/json" }],
      "authentication": {},
      "metaSortKey": -1714785613000,
      "isPrivate": false,
      "settingStoreCookies": true,
      "settingSendCookies": true,
      "settingEncodeUrl": true,
      "settingRebuildPath": true,
      "settingFollowRedirects": "global",
      "_type": "request"
    },
    {
      "_id": "req_gateway_login",
      "parentId": "fld_gateway_auth",
      "modified": 1714785614000,
      "created": 1714785614000,
      "url": "{{ _.services.gateway.api }}/auth/login",
      "name": "Login (preencha auth.token depois)",
      "method": "POST",
      "body": { "mimeType": "application/json",
        "text": "{\n  \"email\": \"{{ _.auth.credentials.provider.email }}\",\n  \"password\": \"{{ _.auth.credentials.provider.password }}\"\n}" },
      "parameters": [],
      "headers": [{ "name": "Content-Type", "value": "application/json" }],
      "authentication": {},
      "metaSortKey": -1714785614000,
      "isPrivate": false,
      "settingStoreCookies": true,
      "settingSendCookies": true,
      "settingEncodeUrl": true,
      "settingRebuildPath": true,
      "settingFollowRedirects": "global",
      "_type": "request"
    },
    {
      "_id": "req_gateway_profile",
      "parentId": "fld_gateway_auth",
      "modified": 1714785615000,
      "created": 1714785615000,
      "url": "{{ _.services.gateway.api }}/auth/me",
      "name": "Perfil Atual",
      "method": "GET",
      "body": {},
      "parameters": [],
      "headers": [],
      "authentication": { "type": "bearer", "token": "{{ _.auth.token }}" },
      "metaSortKey": -1714785615000,
      "isPrivate": false,
      "settingStoreCookies": true,
      "settingSendCookies": true,
      "settingEncodeUrl": true,
      "settingRebuildPath": true,
      "settingFollowRedirects": "global",
      "_type": "request"
    },

    {
      "_id": "req_gateway_list_providers",
      "parentId": "fld_gateway_providers",
      "modified": 1714785616000,
      "created": 1714785616000,
      "url": "{{ _.services.gateway.api }}/providers",
      "name": "Listar Prestadores",
      "method": "GET",
      "body": {},
      "parameters": [],
      "headers": [],
      "authentication": {},
      "metaSortKey": -1714785616000,
      "isPrivate": false,
      "settingStoreCookies": true,
      "settingSendCookies": true,
      "settingEncodeUrl": true,
      "settingRebuildPath": true,
      "settingFollowRedirects": "global",
      "_type": "request"
    },
    {
      "_id": "req_gateway_create_provider",
      "parentId": "fld_gateway_providers",
      "modified": 1714785617000,
      "created": 1714785617000,
      "url": "{{ _.services.gateway.api }}/providers",
      "name": "Criar Prestador",
      "method": "POST",
      "body": { "mimeType": "application/json",
        "text": "{\n  \"id\": \"{{ _.samples.provider.id }}\",\n  \"name\": \"João Prestador\",\n  \"category\": \"{{ _.samples.provider.category }}\",\n  \"price\": 150.0,\n  \"description\": \"Especialista em reparos hidráulicos\",\n  \"latitude\": -23.561684,\n  \"longitude\": -46.655981,\n  \"status\": \"available\",\n  \"rating\": 5.0,\n  \"user_id\": \"{{ _.samples.provider.user_id }}\"\n}" },
      "parameters": [],
      "headers": [{ "name": "Content-Type", "value": "application/json" }],
      "authentication": {},
      "metaSortKey": -1714785617000,
      "isPrivate": false,
      "settingStoreCookies": true,
      "settingSendCookies": true,
      "settingEncodeUrl": true,
      "settingRebuildPath": true,
      "settingFollowRedirects": "global",
      "_type": "request"
    },
    {
      "_id": "req_gateway_update_location",
      "parentId": "fld_gateway_providers",
      "modified": 1714785618000,
      "created": 1714785618000,
      "url": "{{ _.services.gateway.api }}/providers/{{ _.samples.provider.id }}/location",
      "name": "Atualizar Localização",
      "method": "PUT",
      "body": { "mimeType": "application/json",
        "text": "{\n  \"latitude\": -23.5605,\n  \"longitude\": -46.657\n}" },
      "parameters": [],
      "headers": [{ "name": "Content-Type", "value": "application/json" }],
      "authentication": {},
      "metaSortKey": -1714785618000,
      "isPrivate": false,
      "settingStoreCookies": true,
      "settingSendCookies": true,
      "settingEncodeUrl": true,
      "settingRebuildPath": true,
      "settingFollowRedirects": "global",
      "_type": "request"
    },
    {
      "_id": "req_gateway_update_status",
      "parentId": "fld_gateway_providers",
      "modified": 1714785619000,
      "created": 1714785619000,
      "url": "{{ _.services.gateway.api }}/providers/{{ _.samples.provider.id }}/status",
      "name": "Atualizar Status",
      "method": "PUT",
      "body": { "mimeType": "application/json",
        "text": "{\n  \"status\": \"available\"\n}" },
      "parameters": [],
      "headers": [{ "name": "Content-Type", "value": "application/json" }],
      "authentication": {},
      "metaSortKey": -1714785619000,
      "isPrivate": false,
      "settingStoreCookies": true,
      "settingSendCookies": true,
      "settingEncodeUrl": true,
      "settingRebuildPath": true,
      "settingFollowRedirects": "global",
      "_type": "request"
    },

    {
      "_id": "req_gateway_list_requests",
      "parentId": "fld_gateway_requests",
      "modified": 1714785620000,
      "created": 1714785620000,
      "url": "{{ _.services.gateway.api }}/requests",
      "name": "Listar Solicitações",
      "method": "GET",
      "body": {},
      "parameters": [],
      "headers": [],
      "authentication": {},
      "metaSortKey": -1714785620000,
      "isPrivate": false,
      "settingStoreCookies": true,
      "settingSendCookies": true,
      "settingEncodeUrl": true,
      "settingRebuildPath": true,
      "settingFollowRedirects": "global",
      "_type": "request"
    },
    {
      "_id": "req_gateway_create_request",
      "parentId": "fld_gateway_requests",
      "modified": 1714785621000,
      "created": 1714785621000,
      "url": "{{ _.services.gateway.api }}/requests",
      "name": "Criar Solicitação",
      "method": "POST",
      "body": { "mimeType": "application/json",
        "text": "{\n  \"id\": \"{{ _.samples.request.id }}\",\n  \"client_id\": \"{{ _.samples.client.id }}\",\n  \"category\": \"{{ _.samples.provider.category }}\",\n  \"description\": \"Trocar resistência do chuveiro\",\n  \"client_latitude\": -23.5622,\n  \"client_longitude\": -46.6555,\n  \"price\": 120.0\n}" },
      "parameters": [],
      "headers": [{ "name": "Content-Type", "value": "application/json" }],
      "authentication": {},
      "metaSortKey": -1714785621000,
      "isPrivate": false,
      "settingStoreCookies": true,
      "settingSendCookies": true,
      "settingEncodeUrl": true,
      "settingRebuildPath": true,
      "settingFollowRedirects": "global",
      "_type": "request"
    },
    {
      "_id": "req_gateway_accept_request",
      "parentId": "fld_gateway_requests",
      "modified": 1714785622000,
      "created": 1714785622000,
      "url": "{{ _.services.gateway.api }}/requests/{{ _.samples.request.id }}/accept",
      "name": "Aceitar Solicitação",
      "method": "PUT",
      "body": { "mimeType": "application/json",
        "text": "{\n  \"provider_id\": \"{{ _.samples.provider.id }}\"\n}" },
      "parameters": [],
      "headers": [{ "name": "Content-Type", "value": "application/json" }],
      "authentication": {},
      "metaSortKey": -1714785622000,
      "isPrivate": false,
      "settingStoreCookies": true,
      "settingSendCookies": true,
      "settingEncodeUrl": true,
      "settingRebuildPath": true,
      "settingFollowRedirects": "global",
      "_type": "request"
    },
    {
      "_id": "req_gateway_update_request_status",
      "parentId": "fld_gateway_requests",
      "modified": 1714785623000,
      "created": 1714785623000,
      "url": "{{ _.services.gateway.api }}/requests/{{ _.samples.request.id }}/status",
      "name": "Atualizar Status da Solicitação",
      "method": "PUT",
      "body": { "mimeType": "application/json",
        "text": "{\n  \"status\": \"en_route\"\n}" },
      "parameters": [],
      "headers": [{ "name": "Content-Type", "value": "application/json" }],
      "authentication": {},
      "metaSortKey": -1714785623000,
      "isPrivate": false,
      "settingStoreCookies": true,
      "settingSendCookies": true,
      "settingEncodeUrl": true,
      "settingRebuildPath": true,
      "settingFollowRedirects": "global",
      "_type": "request"
    }
  ]
}
